{% extends 'core/base.html' %}
{% load static %}

{% block title %}新規登録 | GreenReceipt{% endblock %}

{% block content %}
<form method="post" action="{% url 'accounts:register' %}" class="full">
  {% csrf_token %}

  {% for field in form.visible_fields %}
    <div class="form-group">
      {{ field.label_tag }}
      {% if field.name == 'password1' or field.name == 'password2' %}
        <div class="password-container">
          {{ field }}
          <button type="button" class="toggle-password" data-target="{{ field.id_for_label }}" title="パスワードの表示/非表示を切り替える">表示</button>
        </div>
      {% else %}
        {{ field }}
      {% endif %}
      {% if field.help_text %}
        <small class="form-text text-muted list-none">{{ field.help_text }}</small>
      {% endif %}
      {% for error in field.errors %}
        <div class="alert alert-danger" >{{ error }}</div>
      {% endfor %}
    </div>
  {% endfor %}

  <div class="actions" style="text-align:center;">
    <a href="{% url 'core:index' %}" class="btn btn-neutral">戻る</a>
    <button type="submit">確認</button>
  </div>
</form>
{% endblock %}
